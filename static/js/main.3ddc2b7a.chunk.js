(this["webpackJsonpauto-blog-web"]=this["webpackJsonpauto-blog-web"]||[]).push([[0],{131:function(e,t,n){},216:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(20),i=n.n(r),c=(n(131),n(27)),s=n(90),l=n.n(s),d=n(23),u=n(114),m=n(39),b=n(115),h=n(91),f=n.n(h),j=n(93),w=n(123),O=n(297),k=n(298),g=(n(214),n(116)),v=n.n(g),p=n(299),S=n(300),x=n(301),N=n(302),I=n(126),y=(n(216),n(17));window.chrome.tabs||function(){window.isChrome=!1,window.chrome=Object.assign(window.chrome,{tabs:{query:function(e,t){var n=window,a=n.location,o=a.hostname;return t([{url:o+a.pathname,title:n.document.title,hostname:o}])}},storage:{sync:{set:function(e,t){window.localStorage.setItem(e,JSON.stringify(t))},get:function(e,t){t(JSON.parse(window.localStorage.getItem(e)))}}},bookmarks:{create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(e.id=Date.now()+"",e.url||e.children||(e.children=[]),"2"===e.parentId)localStorage.setItem("_bookmarks",JSON.stringify([e]));else{var n=JSON.parse(localStorage.getItem("_bookmarks"));n[0].children.push(e),localStorage.setItem("_bookmarks",JSON.stringify(n))}t(e)},update:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=JSON.parse(localStorage.getItem("_bookmarks"));a[0].children.forEach((function(a){a.id===e&&n(Object.assign(a,t))})),localStorage.setItem("_bookmarks",JSON.stringify(a))},getSubTree:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=JSON.parse(localStorage.getItem("_bookmarks"))||[];t([{children:n}])},remove:function(e){var t=JSON.parse(localStorage.getItem("_bookmarks"));t[0].children=t[0].children.filter((function(t){return t.id!==e})),localStorage.setItem("_bookmarks",JSON.stringify(t))}}});window.URL=function e(t){Object(b.a)(this,e),this.hostname=t.split("/")[0]}}();var C=function(){return new Promise((function(e,t){window.chrome.tabs.query({active:!0,currentWindow:!0},(function(t){var n=t[0],a=n.title,o=new URL(n.url),r=o.hostname;e({hostname:r,title:a,url:o})}))}))},J=function(e){var t=e.data,n=Object(a.useState)(!0),o=Object(m.a)(n,2),r=o[0],i=(o[1],Object(a.useState)(!1)),c=Object(m.a)(i,2),s=c[0],b=c[1],h=Object(a.useState)(""),k=Object(m.a)(h,2),g=k[0],I=k[1];Object(a.useEffect)((function(){var e=Object.keys(t).map((function(e){var n=t[e];if(n.markdown)return"## `".concat(n.title,"`\n")+n.markdown})).filter(Boolean).join("\n");I(e)}),[t]);var J=function(){b(!s)},_=function(){var n=Object(u.a)(l.a.mark((function n(){var a,o,r,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Object.keys(t).forEach((function(e){var n=t[e];n.id&&window.chrome.bookmarks.remove(n.id)})),n.next=3,C();case 3:a=n.sent,o=a.hostname,r=a.title,i=a.url,e.setData(Object(d.a)({},r,{hostname:o,title:r,markdown:"",url:i})),e.setCurr(r);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:r?"left":"left active",children:[Object(y.jsx)(p.a,{className:"right-btn",onClick:J,title:"\u9884\u89c8"}),Object(y.jsx)(O.a,{mode:"inline",inlineCollapsed:r,children:Object.keys(t).map((function(n){var a=t[n];return Object(y.jsx)(O.a.Item,{icon:Object(y.jsx)("img",{height:"20",width:"20",src:"http://www.google.com/s2/favicons?domain=".concat("localhost"===a.hostname?"sspai.com":a.hostname)}),onClick:function(){return t=n,void e.setCurr(t);var t},children:a.title},a.title)}))}),Object(y.jsxs)("div",{className:s?"inline-modal":"inline-modal hidden",children:[Object(y.jsxs)("div",{className:"operation",children:[Object(y.jsx)(S.a,{className:"right-btn",onClick:J,title:"\u8fd4\u56de\u7f16\u8f91"}),Object(y.jsx)(x.a,{className:"clear",onClick:_,title:"\u6e05\u9664"}),Object(y.jsx)(N.a,{className:"copy",onClick:function(){v()(g),w.b.success("\u5df2\u590d\u5236\u5230\u526a\u5207\u677f \ud83d\udc40 \uff01")},title:"\u590d\u5236\u5230\u526a\u8d34\u677f"})]}),Object(y.jsx)(f.a,{children:g,remarkPlugins:[j.a]})]})]})},_=function(e){var t=e.title,n=e.markdown,a=e.hostname;return window.prefix+JSON.stringify({title:t,markdown:n,hostname:a})},D=function(e){var t=e.curr,n=e.data,r=e.folderId,i=o.a.useCallback((function(a){n[t].markdown=a;var o=n[t],i=o.id,s=o.title,l=o.hostname;i||!a?(i&&!a?window.chrome.bookmarks.remove(i):i&&a&&window.chrome.bookmarks.update(i,{url:_({title:s,markdown:a,hostname:l})}),e.setData(Object.assign({},n))):window.chrome.bookmarks.create({parentId:r,title:s,url:_({title:s,markdown:a,hostname:l})},(function(a){var o=Object(c.a)(Object(c.a)({},n),{},Object(d.a)({},t,Object(c.a)(Object(c.a)({},n[t]),{},{id:a.id})));console.log("\ud83d\ude80 ~ file: App.js ~ line 191 ~ setMarkdown ~ newData",o),e.setData(o)}))}),[n,r,t]),s=Object(a.useState)(!1),l=Object(m.a)(s,2),u=l[0],b=l[1];return Object(y.jsxs)("div",{className:"right",children:[Object(y.jsx)(I.a,{onClick:function(){b(!u)},className:"toggle-preview"}),!(!Object.keys(n).length||!n[t])&&Object(y.jsx)("div",{className:u?"preview":"editor",children:u?Object(y.jsx)(f.a,{children:n[t].markdown,remarkPlugins:[j.a]}):Object(y.jsx)(k.a.TextArea,{value:n[t].markdown,onChange:function(e){return i(e.target.value)}})})]})};window.prefix="data:text/plain;charset=UTF-8,";var T=function(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(""),i=Object(m.a)(r,2),s=i[0],l=i[1],u=Object(a.useState)({}),b=Object(m.a)(u,2),h=b[0],f=b[1];Object(a.useEffect)((function(){C().then((function(e){var t=e.hostname,n=e.title,a=(e.pathname,e.url);new Promise((function(e,t){window.chrome.bookmarks.getSubTree("2",(function(t){var n=t[0].children.find((function(e){return"_awesomeNote"===e.title}));n?e({folderId:n.id,bookmarks:n.children}):window.chrome.bookmarks.create({parentId:"2",title:"_awesomeNote"},(function(t){e({folderId:t.id,bookmarks:[]})}))}))})).then((function(e){var r=e.folderId,i=e.bookmarks.reduce((function(e,t){var n=t.url,a=t.title,o=t.id,r=Object(d.a)({},a,Object(c.a)({id:o},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'data:text/plain;charset=UTF-8,{"hostname":"sspai.com","title":"\u5c11\u6570\u6d3e - \u9ad8\u6548\u5de5\u4f5c\uff0c\u54c1\u8d28\u751f\u6d3b","markdown":""}',t=JSON.parse(decodeURI(e.slice(window.prefix.length))),n=t.hostname,a=t.title,o=t.markdown;return t.url,{hostname:n,title:a,markdown:o}}(n)));return Object(c.a)(Object(c.a)({},e),r)}),{});i[n]||(i[n]={hostname:t,title:n,markdown:"",url:a,id:""}),o(n),f(i),l(r)}))}))}),[]);var j={curr:n,setCurr:o,data:h,setData:f,folderId:s};return Object(y.jsxs)("div",{className:window.isChrome?"App chrome":"App",children:[Object(a.createElement)(J,Object(c.a)(Object(c.a)({},j),{},{key:n})),Object(y.jsx)(D,Object(c.a)({},j))]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,303)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),r(e),i(e)}))};i.a.render(Object(y.jsx)(o.a.StrictMode,{children:Object(y.jsx)(T,{})}),document.getElementById("root")),E()}},[[286,1,2]]]);